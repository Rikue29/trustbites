<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustBites AI - Fake Review Detector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .map-container {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            position: relative;
            overflow: hidden;
        }
        
        .restaurant-pin {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .restaurant-pin:hover {
            transform: scale(1.15) translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        
        .trust-gauge {
            background: conic-gradient(from 0deg, #ef4444 0deg 36deg, #f59e0b 36deg 72deg, #10b981 72deg 360deg);
            border-radius: 50%;
            position: relative;
        }
        
        .gauge-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-origin: bottom center;
            transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .slide-in-right {
            animation: slideInRight 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tooltip {
            visibility: hidden;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .tooltip.show {
            visibility: visible;
            opacity: 1;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .pulse-dot {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .chart-container {
            position: relative;
            height: 200px;
        }
        
        .nav-tab {
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Top Navigation -->
    <nav class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">TrustBites AI</h1>
                        <p class="text-xs text-gray-500">Fake Review Detector</p>
                    </div>
                </div>
                
                <!-- Search Bar -->
                <div class="flex-1 max-w-lg mx-8">
                    <div class="relative">
                        <input type="text" placeholder="Search restaurants, cuisines, or locations..." 
                               class="w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent shadow-sm text-sm">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation Tabs -->
                <div class="flex items-center space-x-1">
                    <button onclick="showScreen('map')" class="nav-tab active px-4 py-2 rounded-lg text-sm font-medium">
                        Map View
                    </button>
                    <button onclick="showScreen('dashboard')" class="nav-tab px-4 py-2 rounded-lg text-sm font-medium text-gray-600 hover:text-gray-900">
                        Dashboard
                    </button>
                </div>
                
                <!-- Profile -->
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        
        <!-- Map View Screen -->
        <div id="map-screen" class="screen">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 h-[calc(100vh-140px)]">
                <!-- Map Section -->
                <div class="lg:col-span-3">
                    <div class="bg-white rounded-2xl shadow-lg overflow-hidden h-full">
                        <div class="map-container h-full relative p-6">
                            <!-- Map Background -->
                            <div class="absolute inset-0 opacity-10">
                                <svg class="w-full h-full" viewBox="0 0 800 600" fill="none">
                                    <path d="M100 100 Q200 50 300 100 T500 100" stroke="#10b981" stroke-width="2" opacity="0.3"/>
                                    <path d="M50 200 Q150 150 250 200 T450 200" stroke="#10b981" stroke-width="2" opacity="0.3"/>
                                    <path d="M150 300 Q250 250 350 300 T550 300" stroke="#10b981" stroke-width="2" opacity="0.3"/>
                                </svg>
                            </div>
                            
                            <!-- Restaurant Pins -->
                            <div class="restaurant-pin absolute top-20 left-32 w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg" onclick="showRestaurant('bella-italia')">
                                <span class="text-lg">üçï</span>
                            </div>
                            <div class="restaurant-pin absolute top-32 right-40 w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg" onclick="showRestaurant('burger-junction')">
                                <span class="text-lg">üçî</span>
                            </div>
                            <div class="restaurant-pin absolute bottom-32 left-48 w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg" onclick="showRestaurant('sakura-sushi')">
                                <span class="text-lg">üç£</span>
                            </div>
                            <div class="restaurant-pin absolute bottom-40 right-32 w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg" onclick="showRestaurant('taco-fiesta')">
                                <span class="text-lg">üåÆ</span>
                            </div>
                            <div class="restaurant-pin absolute top-48 left-64 w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg" onclick="showRestaurant('cafe-mocha')">
                                <span class="text-lg">‚òï</span>
                            </div>
                            
                            <!-- Map Legend -->
                            <div class="absolute bottom-6 left-6 bg-white rounded-lg shadow-lg p-4">
                                <h4 class="font-semibold text-gray-900 mb-2 text-sm">Trust Levels</h4>
                                <div class="space-y-1 text-xs">
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                                        <span class="text-gray-600">High Trust (80-100%)</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                        <span class="text-gray-600">Medium Trust (50-79%)</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                                        <span class="text-gray-600">Low Trust (0-49%)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Restaurant Card -->
                <div class="lg:col-span-1">
                    <div id="restaurant-card" class="bg-white rounded-2xl shadow-lg p-6 h-full hidden">
                        <div class="text-center mb-6">
                            <!-- Restaurant Image -->
                            <div class="w-20 h-20 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
                                <span id="restaurant-emoji" class="text-3xl">üçï</span>
                            </div>
                            
                            <h3 id="restaurant-name" class="text-xl font-bold text-gray-900 mb-2">Bella Italia</h3>
                            
                            <!-- Rating -->
                            <div class="flex items-center justify-center space-x-2 mb-2">
                                <div class="flex text-yellow-400 text-lg">
                                    ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
                                </div>
                                <span id="restaurant-rating" class="text-gray-600 font-semibold">4.2</span>
                            </div>
                            
                            <p id="restaurant-reviews" class="text-gray-500 text-sm mb-3">1,247 reviews</p>
                            <p id="restaurant-address" class="text-gray-500 text-sm">123 Main Street, Downtown</p>
                        </div>
                        
                        <!-- Quick Stats -->
                        <div class="grid grid-cols-2 gap-3 mb-6">
                            <div class="bg-gray-50 rounded-lg p-3 text-center">
                                <div class="text-lg font-bold text-gray-900">$$$</div>
                                <div class="text-xs text-gray-500">Price Range</div>
                            </div>
                            <div class="bg-gray-50 rounded-lg p-3 text-center">
                                <div class="text-lg font-bold text-gray-900">25min</div>
                                <div class="text-xs text-gray-500">Delivery</div>
                            </div>
                        </div>
                        
                        <button id="analyze-btn" onclick="analyzeReviews()" 
                                class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
                            <span class="flex items-center justify-center space-x-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                </svg>
                                <span>Analyze Reviews with AI</span>
                            </span>
                        </button>
                    </div>

                    <!-- Analysis Results -->
                    <div id="analysis-results" class="bg-white rounded-2xl shadow-lg p-6 hidden mt-6">
                        <div class="flex items-center justify-between mb-6">
                            <h4 class="text-lg font-bold text-gray-900">AI Analysis Results</h4>
                            <div class="pulse-dot w-3 h-3 bg-green-500 rounded-full"></div>
                        </div>
                        
                        <!-- Trust Score Gauge -->
                        <div class="text-center mb-6">
                            <div class="relative w-32 h-32 mx-auto mb-4">
                                <div class="trust-gauge w-full h-full">
                                    <div class="absolute inset-3 bg-white rounded-full flex items-center justify-center shadow-inner">
                                        <div class="text-center">
                                            <div id="trust-score" class="text-2xl font-bold text-gray-900">73</div>
                                            <div class="text-xs text-gray-500 font-medium">Trust Score</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <p id="trust-level" class="text-sm font-medium text-yellow-600">Moderately Trustworthy</p>
                        </div>

                        <!-- Pie Chart -->
                        <div class="mb-6">
                            <h5 class="font-semibold text-gray-900 mb-3">Review Distribution</h5>
                            <div class="chart-container mb-4">
                                <canvas id="pieChart"></canvas>
                            </div>
                            <div class="grid grid-cols-3 gap-2 text-xs">
                                <div class="text-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mx-auto mb-1"></div>
                                    <div class="font-medium">Genuine</div>
                                    <div class="text-gray-500">60%</div>
                                </div>
                                <div class="text-center">
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full mx-auto mb-1"></div>
                                    <div class="font-medium">Suspicious</div>
                                    <div class="text-gray-500">25%</div>
                                </div>
                                <div class="text-center">
                                    <div class="w-3 h-3 bg-red-500 rounded-full mx-auto mb-1"></div>
                                    <div class="font-medium">Fake</div>
                                    <div class="text-gray-500">15%</div>
                                </div>
                            </div>
                        </div>

                        <!-- Review List -->
                        <div>
                            <h5 class="font-semibold text-gray-900 mb-3">Recent Reviews</h5>
                            <div id="review-list" class="space-y-3 max-h-80 overflow-y-auto">
                                <!-- Reviews will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Screen -->
        <div id="dashboard-screen" class="screen hidden">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <!-- Key Metrics -->
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-gray-900">Trust Overview</h3>
                        <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">Average Trust Score</span>
                                <span class="font-semibold">74%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 74%"></div>
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-3 text-center">
                            <div>
                                <div class="text-2xl font-bold text-green-600">1,247</div>
                                <div class="text-xs text-gray-500">Genuine</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-yellow-600">423</div>
                                <div class="text-xs text-gray-500">Suspicious</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-red-600">156</div>
                                <div class="text-xs text-gray-500">Fake</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trend Chart -->
                <div class="lg:col-span-2 bg-white rounded-2xl shadow-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-bold text-gray-900">Fake Review Trends</h3>
                        <select class="text-sm border border-gray-300 rounded-lg px-3 py-1">
                            <option>Last 7 days</option>
                            <option>Last 30 days</option>
                            <option>Last 90 days</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Suspicious Reviewers Table -->
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-bold text-gray-900">Suspicious Reviewers</h3>
                    <button class="text-sm text-green-600 hover:text-green-700 font-medium">View All</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead>
                            <tr class="border-b border-gray-200">
                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Reviewer</th>
                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Risk Level</th>
                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Reviews</th>
                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Pattern</th>
                                <th class="text-left py-3 px-4 font-semibold text-gray-700">Action</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr>
                                <td class="py-3 px-4">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                            <span class="text-xs font-medium">JD</span>
                                        </div>
                                        <span class="font-medium">john_doe_123</span>
                                    </div>
                                </td>
                                <td class="py-3 px-4">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                        High Risk
                                    </span>
                                </td>
                                <td class="py-3 px-4 text-gray-600">47 reviews</td>
                                <td class="py-3 px-4 text-gray-600">Generic language</td>
                                <td class="py-3 px-4">
                                    <button class="text-green-600 hover:text-green-700 text-sm font-medium">Investigate</button>
                                </td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                            <span class="text-xs font-medium">SF</span>
                                        </div>
                                        <span class="font-medium">sarah_foodie</span>
                                    </div>
                                </td>
                                <td class="py-3 px-4">
                                    <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        Medium Risk
                                    </span>
                                </td>
                                <td class="py-3 px-4 text-gray-600">23 reviews</td>
                                <td class="py-3 px-4 text-gray-600">Frequent posting</td>
                                <td class="py-3 px-4">
                                    <button class="text-green-600 hover:text-green-700 text-sm font-medium">Investigate</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Competitor Comparison -->
            <div class="bg-white rounded-2xl shadow-lg p-6">
                <h3 class="text-lg font-bold text-gray-900 mb-6">Competitor Trust Comparison</h3>
                <div class="space-y-4">
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-lg">üçï</span>
                            </div>
                            <div>
                                <div class="font-semibold">Bella Italia</div>
                                <div class="text-sm text-gray-500">Your Restaurant</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-bold text-green-600">73%</div>
                            <div class="text-sm text-gray-500">Trust Score</div>
                        </div>
                    </div>
                    <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                <span class="text-lg">üçï</span>
                            </div>
                            <div>
                                <div class="font-semibold">Tony's Pizza</div>
                                <div class="text-sm text-gray-500">Competitor</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-bold text-red-600">45%</div>
                            <div class="text-sm text-gray-500">Trust Score</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div id="tooltip" class="tooltip absolute bg-gray-900 text-white text-xs rounded-lg py-3 px-4 max-w-xs shadow-xl">
        <div id="tooltip-content"></div>
        <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"></div>
    </div>

    <script>
        const restaurants = {
            'bella-italia': {
                name: 'Bella Italia',
                emoji: 'üçï',
                rating: '4.2',
                reviews: '1,247 reviews',
                address: '123 Main Street, Downtown',
                trustScore: 73,
                reviews_data: [
                    { 
                        text: 'Amazing authentic Italian pizza! The margherita was perfectly cooked with fresh basil and mozzarella. Service was excellent and the atmosphere was cozy.', 
                        badge: 'genuine', 
                        confidence: 92,
                        reason: 'Specific menu details, balanced review with multiple aspects mentioned, natural language flow'
                    },
                    { 
                        text: 'Best pizza ever! Amazing food amazing service amazing everything! Highly recommend to everyone!', 
                        badge: 'suspicious', 
                        confidence: 78,
                        reason: 'Excessive use of superlatives, repetitive "amazing" pattern, lacks specific details'
                    },
                    { 
                        text: 'Great restaurant great food great service great atmosphere great location great prices!', 
                        badge: 'fake', 
                        confidence: 95,
                        reason: 'Obvious repetitive pattern, generic praise without specifics, artificial language structure'
                    },
                    { 
                        text: 'Visited last Tuesday with my family. The quattro stagioni pizza was delicious, though the crust could have been crispier. Kids loved the tiramisu for dessert.', 
                        badge: 'genuine', 
                        confidence: 89,
                        reason: 'Specific visit details, constructive criticism, mentions family context and specific dishes'
                    }
                ]
            },
            'burger-junction': {
                name: 'Burger Junction',
                emoji: 'üçî',
                rating: '4.5',
                reviews: '892 reviews',
                address: '456 Oak Avenue, Midtown',
                trustScore: 81,
                reviews_data: [
                    { 
                        text: 'The bacon cheeseburger was juicy and perfectly seasoned. Fries were crispy and hot. Service was quick despite the lunch rush.', 
                        badge: 'genuine', 
                        confidence: 91,
                        reason: 'Detailed food description, mentions timing context, balanced positive review'
                    },
                    { 
                        text: 'Excellent burgers excellent fries excellent service excellent place!', 
                        badge: 'fake', 
                        confidence: 88,
                        reason: 'Repetitive "excellent" pattern, no specific details, artificial structure'
                    }
                ]
            },
            'sakura-sushi': {
                name: 'Sakura Sushi',
                emoji: 'üç£',
                rating: '4.7',
                reviews: '654 reviews',
                address: '789 Pine Street, Uptown',
                trustScore: 85,
                reviews_data: [
                    { 
                        text: 'Fresh sashimi and creative specialty rolls. The dragon roll was beautifully presented. Slightly pricey but worth it for the quality.', 
                        badge: 'genuine', 
                        confidence: 94,
                        reason: 'Specific menu items, mentions presentation and price, balanced perspective'
                    },
                    { 
                        text: 'This place is incredible! Best sushi in the city! Must visit! Five stars!', 
                        badge: 'suspicious', 
                        confidence: 72,
                        reason: 'Generic superlatives, lacks specific details, overly enthusiastic tone'
                    }
                ]
            }
        };

        let currentRestaurant = null;
        let pieChart = null;
        let trendChart = null;

        function showScreen(screenName) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.add('hidden');
            });
            
            // Show selected screen
            document.getElementById(screenName + '-screen').classList.remove('hidden');
            
            // Update nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Initialize charts if dashboard is shown
            if (screenName === 'dashboard') {
                setTimeout(() => {
                    initDashboardCharts();
                }, 100);
            }
        }

        function showRestaurant(restaurantId) {
            currentRestaurant = restaurants[restaurantId];
            const card = document.getElementById('restaurant-card');
            const results = document.getElementById('analysis-results');
            
            // Hide analysis results
            results.classList.add('hidden');
            
            // Update restaurant info
            document.getElementById('restaurant-emoji').textContent = currentRestaurant.emoji;
            document.getElementById('restaurant-name').textContent = currentRestaurant.name;
            document.getElementById('restaurant-rating').textContent = currentRestaurant.rating;
            document.getElementById('restaurant-reviews').textContent = currentRestaurant.reviews;
            document.getElementById('restaurant-address').textContent = currentRestaurant.address;
            
            // Show card with animation
            card.classList.remove('hidden');
            card.classList.add('slide-in-right');
        }

        function analyzeReviews() {
            if (!currentRestaurant) return;
            
            const button = document.getElementById('analyze-btn');
            const results = document.getElementById('analysis-results');
            
            // Show loading state
            button.innerHTML = `
                <span class="flex items-center justify-center space-x-2">
                    <svg class="animate-spin w-5 h-5" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <span>Analyzing...</span>
                </span>
            `;
            button.disabled = true;
            
            setTimeout(() => {
                // Update trust score
                document.getElementById('trust-score').textContent = currentRestaurant.trustScore;
                
                // Update trust level text
                const trustLevel = document.getElementById('trust-level');
                if (currentRestaurant.trustScore >= 80) {
                    trustLevel.textContent = 'Highly Trustworthy';
                    trustLevel.className = 'text-sm font-medium text-green-600';
                } else if (currentRestaurant.trustScore >= 60) {
                    trustLevel.textContent = 'Moderately Trustworthy';
                    trustLevel.className = 'text-sm font-medium text-yellow-600';
                } else {
                    trustLevel.textContent = 'Low Trust';
                    trustLevel.className = 'text-sm font-medium text-red-600';
                }
                
                // Populate reviews
                populateReviews(currentRestaurant.reviews_data);
                
                // Initialize pie chart
                initPieChart();
                
                // Show results
                results.classList.remove('hidden');
                results.classList.add('fade-in-up');
                
                // Reset button
                button.innerHTML = `
                    <span class="flex items-center justify-center space-x-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                        <span>Analyze Reviews with AI</span>
                    </span>
                `;
                button.disabled = false;
            }, 2500);
        }

        function populateReviews(reviews) {
            const reviewList = document.getElementById('review-list');
            reviewList.innerHTML = '';
            
            reviews.forEach((review, index) => {
                const reviewElement = document.createElement('div');
                reviewElement.className = 'bg-gray-50 rounded-xl p-4 border border-gray-100 hover:shadow-md transition-shadow duration-300';
                
                let badgeColor, badgeIcon, confidenceColor;
                switch(review.badge) {
                    case 'genuine':
                        badgeColor = 'bg-green-100 text-green-800 border-green-200';
                        badgeIcon = '‚úÖ';
                        confidenceColor = 'text-green-600';
                        break;
                    case 'suspicious':
                        badgeColor = 'bg-yellow-100 text-yellow-800 border-yellow-200';
                        badgeIcon = '‚ö†Ô∏è';
                        confidenceColor = 'text-yellow-600';
                        break;
                    case 'fake':
                        badgeColor = 'bg-red-100 text-red-800 border-red-200';
                        badgeIcon = '‚ùå';
                        confidenceColor = 'text-red-600';
                        break;
                }
                
                reviewElement.innerHTML = `
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center space-x-2">
                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${badgeColor}">
                                ${badgeIcon} ${review.badge.charAt(0).toUpperCase() + review.badge.slice(1)}
                            </span>
                            <span class="text-xs font-medium ${confidenceColor}">${review.confidence}% confidence</span>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600 transition-colors duration-200" onclick="showTooltip(event, '${review.reason.replace(/'/g, "\\'")}')">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                    <p class="text-sm text-gray-700 leading-relaxed">${review.text}</p>
                `;
                
                reviewList.appendChild(reviewElement);
            });
        }

        function initPieChart() {
            const ctx = document.getElementById('pieChart');
            if (!ctx) return;
            
            if (pieChart) {
                pieChart.destroy();
            }
            
            pieChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Genuine', 'Suspicious', 'Fake'],
                    datasets: [{
                        data: [60, 25, 15],
                        backgroundColor: ['#10b981', '#f59e0b', '#ef4444'],
                        borderWidth: 0,
                        cutout: '70%'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function initDashboardCharts() {
            // Trend Chart
            const trendCtx = document.getElementById('trendChart');
            if (trendCtx && !trendChart) {
                trendChart = new Chart(trendCtx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Fake Reviews Detected',
                            data: [12, 8, 15, 6, 9, 18, 11],
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
        }

        function showTooltip(event, reason) {
            const tooltip = document.getElementById('tooltip');
            const content = document.getElementById('tooltip-content');
            
            content.textContent = reason;
            
            const rect = event.target.getBoundingClientRect();
            const tooltipRect = tooltip.getBoundingClientRect();
            
            let left = rect.left - (tooltipRect.width / 2) + (rect.width / 2);
            let top = rect.top - tooltipRect.height - 10;
            
            // Adjust if tooltip goes off screen
            if (left < 10) left = 10;
            if (left + tooltipRect.width > window.innerWidth - 10) {
                left = window.innerWidth - tooltipRect.width - 10;
            }
            if (top < 10) {
                top = rect.bottom + 10;
            }
            
            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
            tooltip.classList.add('show');
            
            // Auto hide after 4 seconds
            setTimeout(() => {
                tooltip.classList.remove('show');
            }, 4000);
        }

        // Hide tooltip when clicking elsewhere
        document.addEventListener('click', (event) => {
            if (!event.target.closest('button')) {
                document.getElementById('tooltip').classList.remove('show');
            }
        });

        // Initialize with first restaurant selected
        setTimeout(() => {
            showRestaurant('bella-italia');
        }, 500);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981f43b764e413db',t:'MTc1ODM0OTcyNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
